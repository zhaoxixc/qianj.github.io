<div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2024-01-07T09:20:44.000Z" title="2024/1/7 17:20:44">2024-01-07</time>发表</span><span class="level-item"><time dateTime="2024-01-07T09:59:59.280Z" title="2024/1/7 17:59:59">2024-01-07</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/qianj-work/">qianj-work</a></span><span class="level-item">5 分钟读完 (大约708个字)</span></div></div><h1 class="title is-3 is-size-4-mobile">nc工具</h1><div class="content"><!-- more -->
<h1 id="探寻端口，与网络对话"><a href="#探寻端口，与网络对话" class="headerlink" title="探寻端口，与网络对话"></a>探寻端口，与网络对话</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@wds069 ~]<span class="comment"># nc -vz qq.com 80</span></span><br><span class="line">Ncat: Version 7.50 ( https://nmap.org/ncat )</span><br><span class="line">Ncat: Connected to 123.150.76.218:80.</span><br><span class="line">Ncat: 0 bytes sent, 0 bytes received <span class="keyword">in</span> 0.04 seconds.</span><br><span class="line">[root@wds069 ~]<span class="comment"># </span></span><br></pre></td></tr></table></figure>
<p>解析：<br>使用nc -vz参数可以进行端口扫描，-v表示输出详细信息，-z表示只扫描端口而不发送数据。<br>这个例子中，nc命令通过TCP连接到qq.com的80端口，成功地与其建立了连接。</p>
<h1 id="文件传输，快递送货"><a href="#文件传输，快递送货" class="headerlink" title="文件传输，快递送货"></a>文件传输，快递送货</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 在A端，使用-l参数监听连接，-p参数指定监听的端口号</span></span><br><span class="line">[root@wds029 ~]<span class="comment"># nc -l -p 718</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 在B端，将本地的1.sh文件中的内容发送到远程主机192.168.66.94的718端口。</span></span><br><span class="line">[root@wds069 ~]<span class="comment"># nc -w 3 192.168.66.94 718 &lt; 1.sh  </span></span><br></pre></td></tr></table></figure>
<p>在B端执行完成后，在A端会接收到1.sh的内容，如下</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@wds029 ~]<span class="comment"># nc -l -p 718</span></span><br><span class="line"><span class="comment">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line">uid=<span class="variable">$1</span></span><br><span class="line"></span><br><span class="line">username=$(<span class="built_in">id</span> <span class="variable">$uid</span> | awk -F<span class="string">&#x27;(&#x27;</span> <span class="string">&#x27;&#123;print $2&#125;&#x27;</span> | <span class="built_in">cut</span> -d<span class="string">&#x27;)&#x27;</span> -f1)</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;UID <span class="variable">$&#123;uid&#125;</span> 对应的用户名是：<span class="variable">$&#123;username&#125;</span>&quot;</span></span><br><span class="line"></span><br><span class="line">[root@wds029 ~]<span class="comment"># </span></span><br></pre></td></tr></table></figure>
<h1 id="端口扫描，安全卫士之眼"><a href="#端口扫描，安全卫士之眼" class="headerlink" title="端口扫描，安全卫士之眼"></a>端口扫描，安全卫士之眼</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ nc -vz -n -w 1 192.168.66.94 1-100</span><br><span class="line"><span class="comment"># 输出</span></span><br><span class="line">Connection to targethost 22 port [tcp/ssh] succeeded!</span><br><span class="line">Connection to targethost 80 port [tcp/http] succeeded!</span><br></pre></td></tr></table></figure>
<p>-n参数表示不使用DNS解析，-w 1参数表示等待1秒钟后超时，192.168.66.94是目标主机的地址，1-100表示扫描1到100端口。</p>
<p>这个例子中，nc命令扫描了目标主机的1到100端口，并成功发现了SSH和HTTP服务。</p>
<h1 id="远程控制，搭建服务器"><a href="#远程控制，搭建服务器" class="headerlink" title="远程控制，搭建服务器"></a>远程控制，搭建服务器</h1><ul>
<li>服务端<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@wds029 ~]<span class="comment"># nc -l -p 718 -e &quot;/usr/bin/echo xxx&quot;</span></span><br></pre></td></tr></table></figure></li>
<li>客户端<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@wds069 ~]<span class="comment"># nc 192.168.66.94 718</span></span><br><span class="line"><span class="comment"># 执行后在客户端会输出xxx</span></span><br></pre></td></tr></table></figure>
解析：<br>作为服务器，使用-l参数监听连接，-p参数指定监听的端口号，-e参数指定要执行的命令（这里是&#x2F;usr&#x2F;bin&#x2F;echo xxx）。作为客户端，我们连接到目标主机的指定端口。通过这个例子，我们可以在两台计算机之间建立一个简单的远程控制通道。</li>
</ul>
<h1 id="网络聊天，即时通信"><a href="#网络聊天，即时通信" class="headerlink" title="网络聊天，即时通信"></a>网络聊天，即时通信</h1><ul>
<li>服务端<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ nc -l -p 718</span><br></pre></td></tr></table></figure></li>
<li>客户端<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ nc 192.168.66.94 718</span><br></pre></td></tr></table></figure>
这段代码让nc命令像一位快速传递信息的使者，实现了简单的网络聊天功能。我们可以通过这种方式，在两台计算机之间进行实时的文字交流，宛如在网络世界中展开一次愉快的对话。<br>解析：<br>作为服务器，使用-l参数监听连接，-p参数指定监听的端口号。作为客户端，我们连接到目标主机的指定端口。通过这个例子，我们可以在两台计算机之间建立一个简单的即时通信通道。</li>
</ul>
<h1 id="临时长启某个端口"><a href="#临时长启某个端口" class="headerlink" title="临时长启某个端口"></a>临时长启某个端口</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ nc -lk 33333 &amp;    </span><br><span class="line"><span class="comment"># 临时长启33333端口</span></span><br></pre></td></tr></table></figure>


<h1 id="课程中心"><a href="#课程中心" class="headerlink" title="课程中心"></a>课程中心</h1><p><a target="_blank" rel="noopener" href="https://edu.51cto.com/lecturer/13180901.html">Qianj.51CTO</a></p>
</div><div class="article-tags is-size-7 mb-4"><span class="mr-2">#</span><a class="link-muted mr-2" rel="tag" href="/tags/linux/">linux</a></div><!--!--></article></div><!--!--><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/clr4a8nnm000014yj6wexek4t.html"><i class="level-item fas fa-chevron-left"></i><span class="level-item">PC小白维护</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/clr3a18ys0002f8yj2fevf302.html"><span class="level-item">华为交换机忘记密码进行恢复</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><!--!-->