{"posts":[{"title":"install synopsys dve-addon","text":"服务器中已经有了同版本的VCS，但是安装dve工具的时候异常，如下图 测试老版本的VCS2016版本的VCS中包含了dve工具，可以使用dve工具直接启动。2019版本的VCS中包含dve命令，但是启动不了，需要单独安装dve工具才行。 安装dve-addon1$ /eda/tools/synopsys/installer/5.6/setup.sh -install_as_root 重点！！！路径要选择已经安装了的同版本的VCS路径 和谐123$ cd install_dir$ /eda/tools/synopsys/crack_tools/synopsys_checksum . -y$ /eda/tools/synopsys/crack_tools/pubkey_verify . -y 启动测试123$ module unload vcs$ module load vcs/P-2019.06-SP1-1$ dve 课程中心Qianj.51CTO","link":"/2023/12/28/install-synopsys-dve-addon/"},{"title":"python字符串格式化三种方式","text":"python字符串格式化三种方式 课程中心Qianj.51CTO","link":"/2023/12/28/python%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%A0%BC%E5%BC%8F%E5%8C%96%E4%B8%89%E7%A7%8D%E6%96%B9%E5%BC%8F/"},{"title":"保密室EDA","text":"说明部署单机EDA（vcs/verdi/syn）工具的log可module命令正常使用，也可以写到~/.bashrc中 环境配置123$ vim /etc/profilesource /usr/share/Modules/3.2.10/init/bashexport MODULEPATH=&quot;$MODULEPATH:/eda/env/modules/tools&quot; 不用每次手动load工具 12345$ vim ~/.bashrcmodule load synopsysmodule load syn/K-2015.06-SP5module load vcs/P-2019.06-SP1-1module load verdi/P-2019.06-1 验证工具12verdidc_shell 课程中心Qianj.51CTO","link":"/2023/12/27/%E4%BF%9D%E5%AF%86%E5%AE%A4eda/"},{"title":"日观EDA软件部署","text":"1、给的MAC用于生成lic文件，使用的是wds082的MAC2、将三个压缩包解压后放到/eda/tools/rigoron/目录下3、设置环境变量 12$ setenvRIGORON_LICENSE_FILE 27027@192.168.11.82$ setenv RIGORON_DIR/eda/tools/rigoron/RigorCons0802 4、启动RigorCons软件 1$ /eda/tools/rigoron/RigorCons0802/bin/Taish 5、flow的启动进入到flow的软件包目录 123456789101112$ pwd/eda/tools/rigoron/flowx86muchuang20230802/flow# 启动服务端（端口号要和lic使用的不同）$ ./TAIFlow server -p27031starting TaiFlow...start success# 启动客户端$ ./TAIFlow clientstarting TaiFlow...start success 然后在软件的File中设置Host，左下角显示connected 课程中心Qianj.51CTO","link":"/2023/12/28/%E6%97%A5%E8%A7%82EDA%E8%BD%AF%E4%BB%B6%E9%83%A8%E7%BD%B2/"},{"title":"IC环境的汇总","text":"找不到.so库文件如出现 1/usr/bin/ld ***.so *（或者其他） needed by 路径 not found ，后面可能会跟着 (try using -rpath or -rpath-link) 大概率是环境变量LD_LIBRARY_PATH中的没有包含此.so的路径。通过find查找该.so文件的路径 1find &lt;dir&gt; -name &quot;*.so&quot; 将.so的路径加到LD_LIBRARY_PATH环境变量中 1$ setenv LD_LIBRARY_PATH /a/b/c/:$LD_LIBRARY_PATH 常用的一些软件包1234567891011121314151617$ yum install redhat-lsb-core.i686$ yum install libxml2 glibc-devel gcc-c++ gcc libmng libGLU glibc-devel.i686 libXp libXt libXtst zlib ncurses-libs libXScrnSaver$ yum install libXp.i686 libXt.i686 libXtst.i686 zlib.i686 elfutils-libelf.i686 ncurses-libs.i686$ yum install htop ctags tree iftop ksh cscope vim-X11 tmux git git-svn subversion tcsh tcl tcl-devel filezilla ftp konsole ncdu$ yum groupinstall -y &quot;Development tools&quot;$ yum groupinstall -y &quot;Additional Development&quot;$ yum install meld lsb-core-noarch cgdb python3 python3-pip pdb python2-pip xorg-x11-fonts* readline.i686 ntpdate ntp$ yum-complete-transaction$ ln -s /lib/libreadline.so.6 /lib/libreadline.so.5$ ln -s /lib/libhistory.so.6 /lib/libhistory.so.5$ ln -s /usr/lib64/libreadline.so /usr/lib64/libreadline.so.5$ ln -s /usr/lib64/libhistory.so /usr/lib64/libhistory.so.5$ yum -y install openldap-clients nss-pam-ldapd nscd$ yum install libpng12-devel.x86_64 xterm $ yum install ld-linux.so.2 libstdc++.so.6 libXext.so.6 expat.i686 centos6.x gnome挂死表现为新建vnc黑屏 123456$ top # 查看到dbus进程CPU负载高# 查看.so依赖关系，均正常$ which dbus-launch$ ldd /usr/bin/dbus-launch$ which dbus-daemon$ ldd /bin/dbus-daemon 增大ulimit参数 12345678ulimit -SHn 65535ulimit -u 4134117ulimit -n 65535ulimit -d unlimitedulimit -m unlimitedulimit -s unlimitedulimit -t unlimitedulimit -v unlimited 杀死离职人员pid 123ps -ef | grep dbus-daemonkill -9 PIDNUM ssh登录慢常见原因：DNS服务暂停 1234$ vim /etc/ssh/sshd_configuseDNS no$ systemctl restart sshd 个性化设置（.cshrc）提示符格式大部分初始状态为username@hostname:~&gt; 1234567$ vim ~/.cshrcset prompt = '%m@%n-%/:&gt;'# 显示效果为hostname@username-/home/username:&gt;$ vim ~/.cshrcset prompt = '%n@%m:%c&gt;' # 初始默认 文件和文件夹显示颜色自定义在现实文件或者文件夹列表的时候各自不同的类型与结尾使用不同的颜色 12345$ discolors –p # 查看# 以下示例tar/tgz/gz结尾的压缩包显示为红色$ vim ~/.cshrcset LS_COLORS ‘.tar=31:.tgz=31:.gz=31’ 设置alias12345$ vim ~/.cshrcalias .. &quot;cd ..&quot;alias cd 'chdir \\!*; ls' # 改变目录的同时会列出改变后的目录下的内容alias qenv 'env | grep \\!*' # 输入 qenv HOME的时候会列出环境变量中包含HOME的项alias home ‘cd ~/’ # 使用home命令直接返回个人家目录 如果遇到当前目录的程序或者脚本在具有权限的前提下，但是无法执行时(出现command not found)，可以在cshrc文件中加入 1set path = ($path ./) 最后还需要source一下.cshrc文件，使其生效 1$ source ~/.cshrc .vimrc配置12345678$ vim ~/.vimrcset backspace=2 # 可以直接解决退格键的问题（还可以设置indent,eol,start）syntax on # 代码高亮显示set hlsearch # 搜索高亮设置set autoread # 文件修改后自动载入set nu # 显示行号set background=dark # 背景使用黑色set ts=4 # 设置一个tab等于4个空格 内网环境pip无法安装python库在外网环境pip download下载好对应的库及其依赖 1pip download -r requirements.txt --platform linux_x86_64 --python-version 38 --abi cp38 --implementation cp --only-binary=:all: 如果外部环境和内部环境的平台及python版本相同，则可以使用 1pip download -r requirements.txt 然后将安装包传入内部环境进行安装 1pip install ***.whl 如果python库附带一些依赖包，而依赖包的版本有可能存在冲突，那么install的时候可能采用如下指令 1pip install --no-index --find-links=&lt;DIR&gt; ***.whl xfce123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114# 1、安装软件yum install epel-release -yyum groupinstall &quot;Server with GUI&quot; -yyum groupinstall &quot;Xfce&quot; -yyum grouplist hiddenyum groupinstall &quot;Fonts&quot; # 安装字体包fc-list :lang=zh-cn # 可以看到当前已经安装的中文字体yum groupinstall &quot;Compatibility Libraries&quot;yum install libX11.i686 -y#2、配置默认targetsystemctl set-default graphical.targetsystemctl get-defaultsystemctl isolate graphical.target#3、禁用firewalld和selinux#4、配置lightdmsystemctl stop gdmsystemctl disable gdm$ vi /etc/lightdm/lightdm.conf[XDMCPServer]enabled=trueport=177$ systemctl enable lightdm$ systemctl start lightdm#5、删除无关的包gnome-packagekit-3.28.0mate-screensaver-1.16.1-1.el7.x86_64 gnome-screensaver-3.6.1-20.el7.x86_64gnome-user-docs-3.28.2-1.el7.noarch…$ yum remove gnome-packagekit-3.28.0$ yum remove gnome-user-docs$ yum remove gnome-screensaver#6、给gnome桌面增加右键 Terminal 菜单（xfce 默认存在）yum install nautilus-open-terminal#7、配置latency-performance，保障系统是低延迟模式$ yum update$ yum install tuned$ systemctl start tuned $ systemctl enable tuned$ tuned-adm profile latency-performance$ tuned-adm active# 验证 latency-performance 已经生效#8、配置dbus$ vim /etc/security/limits.conf# 在文件末尾添加* soft nofile 65535* hard nofile 65535$ cd /etc/security/limits.d/$ cat 20-nproc.conf * soft nproc 65535* soft nofile 65535root soft nproc unlimited# 否则会出现 dbus 为 100%的情况，但是 20-nproc.conf 这里的*，如果配置为 65535 也会有其他影响，可能某个用户，开启太多经常，导致服务器异常。默认是 4096# 查看是否生效$ ps aux|grep gnome-terminal # 查看到对应的PIDNUM$ cd /proc/15758 # 进入该PIDNUM$ cat limits Limit Soft Limit Hard Limit Units Max processes 4096 4096 processes Max open files 65535 65535 files#9、禁止 lightdm 在登录的时候显示所有 User，默认是允许的$ vi /etc/lightdm/lightdm.conf[Seat:*]#type=localgreeter-hide-users=true#10、配置右键 Terminal 打开后的默认目录$ vi /etc/xdg/Thunar/uca.xml&lt;command&gt;exo-open --working-directory %d --launch TerminalEmulator&lt;/command&gt; # 这里修改默认 %f 为 %d#11、配置默认的 terminal 为 Gnome-terminal$ vi /etc/xdg/xfce4/helpers.rcWebBrowser=chromium-browserMailReader=thunderbirdTerminalEmulator=gnome-terminalFileManager=Thunar#12、Xfce policykit agent 错误$ cd /etc/xdg/autostart/$ mv /etc/xdg/autostart/xfce-polkit.desktop xfce-polkit.desktop.bak# 或者尝试yum update#13、设置 XFCE 作为主要桌面$ cd /usr/share/xsessions$ mkdir bak$ mv gnome* bak/$ mv mate* bak/#14、Group icons on Panel显示设置（根据个人喜好）开了多个Terminal，每个都在panel上，不方便。可以放一起，通过下拉菜单来选择。步骤如下可以右击Panel处，依次选择Panel--&gt;Panel Prferences--&gt;Items--&gt;Windows Bottons双击，或者点击扳手图标，在Behaviour下修改Window grouping为Always即重叠；选择Never则平铺不重叠。或者修改xfce4-panel.xml文件 &lt;property name=&quot;plugins&quot; type=&quot;empty&quot;&gt; &lt;property name=&quot;plugin-1&quot; type=&quot;string&quot; value=&quot;applicationsmenu&quot;/&gt; &lt;property name=&quot;plugin-2&quot; type=&quot;string&quot; value=&quot;actions&quot;/&gt; &lt;property name=&quot;plugin-3&quot; type=&quot;string&quot; value=&quot;tasklist&quot;&gt; &lt;property name=&quot;grouping&quot; type=&quot;uint&quot; value=&quot;1&quot;/&gt; &lt;/property&gt; &lt;property name=&quot;plugin-15&quot; type=&quot;string&quot; value=&quot;separator&quot;&gt; 本文部分配置收集于网络 课程中心Qianj.51CTO","link":"/2023/12/29/IC%E7%8E%AF%E5%A2%83%E7%9A%84%E6%B1%87%E6%80%BB/"},{"title":"centos7自定义关机前执行脚本","text":"创建脚本1234567cat &gt; /opt/test.sh &lt;&lt; 'EOF'#!/bin/bashecho `date &quot;+%G-%m-%d %H-%M-%S&quot;` &gt;&gt; /opt/test.log EOFchmod +x /opt/test.sh 创建systemd服务12345678910111213141516cat &gt; /usr/lib/systemd/system/stopSrv.service &lt;&lt; EOF[Unit]Description=close services before reboot and shutdownDefaultDependencies=noBefore=shutdown.target reboot.target halt.target[Service]Type=oneshotExecStart=/opt/test.shRemainAfterExit=yes[Install]WantedBy=halt.target reboot.target shutdown.targetEOF 启动服务1234systemctl daemon-reloadsystemctl enable stopSrvsystemctl restart stopSrvsystemctl status stopSrv 验证1234567# 有效果rebootshutdown -r nowshutdown -h now# 无效果poweroff 此文章来源于网络 课程中心Qianj.51CTO","link":"/2023/12/29/centos7%E8%87%AA%E5%AE%9A%E4%B9%89%E5%85%B3%E6%9C%BA%E5%89%8D%E6%89%A7%E8%A1%8C%E8%84%9A%E6%9C%AC/"},{"title":"centos7.9作为运算服务器的一些优化","text":"内核参数优化提高文件描述符限制在/etc/security/limits.conf文件中增加以下行 12* hard nofile 65536* soft nofile 65536 提高进程数限制在/etc/security/limits.conf文件中增加以下行 12* hard nproc 65536* soft nproc 65536 禁用透明大页（Transparent Huge Pages）在/etc/default/grub文件中的GRUB_CMDLINE_LINUX行中增加以下参数 1transparent_hugepage=never 禁用NUMA（非统一内存访问）在/boot/grub2/grub.cfg文件中menuentry段中的内核启动参数中增加以下参数 1numa=off 调整内核参数在/etc/sysctl.conf文件中增加以下行 12fs.file-max = 1048576vm.max_map_count = 262144 网络参数优化增加文件句柄限制在/etc/security/limits.conf文件中增加以下行 12* hard memlock unlimited* soft memlock unlimited 调整TCP参数在/etc/sysctl.conf文件中增加以下行 123456net.ipv4.tcp_max_syn_backlog = 8192net.core.somaxconn = 8192net.ipv4.tcp_syncookies = 1net.ipv4.tcp_max_tw_buckets = 20000net.ipv4.tcp_tw_reuse = 1net.ipv4.tcp_fin_timeout = 15 资源管理优化禁用THP（Transparent Huge Pages）编辑/etc/rc.d/rc.local文件，在文件末尾添加以下行 12echo never &gt; /sys/kernel/mm/transparent_hugepage/defragecho never &gt; /sys/kernel/mm/transparent_hugepage/enabled 禁用IRQ负载平衡在/etc/default/grub文件中增加以下参数 1isolcpus=2-15 nohz_full=2-15 rcu_nocbs=2-15 禁用CPU频率调节机制在/etc/default/grub文件中增加以下参数 1intel_pstate=disable 关闭不必要的系统服务使用systemctl命令停止和禁用不必要的服务 生产环境已用1234567891011121314151617181920212223242526# 限制$ cat /etc/security/limits.d/22-iclab.conf @THU hard fsize 52428800 @THU soft fsize 52428800 @THU hard nofile 10000 @THU soft nofile 10000 @THU hard nproc 9000 @THU soft nproc 9000#禁用ipv6$ cat &lt;&lt;EOF &gt;&gt; /etc/sysctl.confnet.ipv6.conf.all.disable_ipv6 = 1net.ipv6.conf.default.disable_ipv6 = 1net.ipv6.conf.default.autoconf=0EOF$ sysctl ‐p# ssh$ sed -i 's/#X11DisplayOffset.*/X11DisplayOffset 200/g' /etc/ssh/sshd_config$ vi /etc/ssh/sshd_configPubkeyAuthentication yesPermitRootLogin yesAddressFamily inet$ systemctl restart sshd 脚本12345678910111213141516171819202122232425262728293031#!/bin/bash# 内核参数优化echo &quot;* hard nofile 65536&quot; &gt;&gt; /etc/security/limits.confecho &quot;* soft nofile 65536&quot; &gt;&gt; /etc/security/limits.confecho &quot;* hard nproc 65536&quot; &gt;&gt; /etc/security/limits.confecho &quot;* soft nproc 65536&quot; &gt;&gt; /etc/security/limits.confecho &quot;kernel.numa_balancing = 0&quot; &gt;&gt; /etc/sysctl.confecho &quot;fs.file-max = 1048576&quot; &gt;&gt; /etc/sysctl.confecho &quot;vm.max_map_count = 262144&quot; &gt;&gt; /etc/sysctl.conf# 网络参数优化echo &quot;* hard memlock unlimited&quot; &gt;&gt; /etc/security/limits.confecho &quot;* soft memlock unlimited&quot; &gt;&gt; /etc/security/limits.confecho &quot;net.ipv4.tcp_max_syn_backlog = 8192&quot; &gt;&gt; /etc/sysctl.confecho &quot;net.core.somaxconn = 8192&quot; &gt;&gt; /etc/sysctl.confecho &quot;net.ipv4.tcp_syncookies = 1&quot; &gt;&gt; /etc/sysctl.confecho &quot;net.ipv4.tcp_max_tw_buckets = 20000&quot; &gt;&gt; /etc/sysctl.confecho &quot;net.ipv4.tcp_tw_reuse = 1&quot; &gt;&gt; /etc/sysctl.confecho &quot;net.ipv4.tcp_fin_timeout = 15&quot; &gt;&gt; /etc/sysctl.conf# 资源管理优化echo &quot;echo never &gt; /sys/kernel/mm/transparent_hugepage/defrag&quot; &gt;&gt; /etc/rc.localecho &quot;echo never &gt; /sys/kernel/mm/transparent_hugepage/enabled&quot; &gt;&gt; /etc/rc.localecho &quot;GRUB_CMDLINE_LINUX=\\&quot;transparent_hugepage=never\\&quot;&quot; &gt;&gt; /etc/default/grubgrub2-mkconfig -o /boot/grub2/grub.cfgecho &quot;GRUB_CMDLINE_LINUX=\\&quot;numa=off\\&quot;&quot; &gt;&gt; /etc/default/grubgrub2-mkconfig -o /boot/grub2/grub.cfgecho &quot;GRUB_CMDLINE_LINUX=\\&quot;isolcpus=2-15 nohz_full=2-15 rcu_nocbs=2-15\\&quot;&quot; &gt;&gt; /etc/default/grubgrub2-mkconfig -o /boot/grub2/grub.cfgecho &quot;GRUB_CMDLINE_LINUX=\\&quot;intel_pstate=disable\\&quot;&quot; &gt;&gt; /etc/default/grubgrub2-mkconfig -o /boot/grub2/grub.cfg# 重启系统以使优化生效reboot 此文章部分来源于网络 课程中心Qianj.51CTO","link":"/2023/12/29/centos7-9%E4%BD%9C%E4%B8%BA%E8%BF%90%E7%AE%97%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%9A%84%E4%B8%80%E4%BA%9B%E4%BC%98%E5%8C%96/"},{"title":"检查系统CPU&#x2F;MEM利用率","text":"12345678910111213141516171819$ pwd/home/qianj/tools/check_sysinfo$ cat use_check_cpu_mem.sh#!/bin/bashsrvs=&quot;wds045 wds046 wds047 wds049 wds081 wds082 wds083 wds084 wds085 wds086&quot;for srv in $srvsdo ssh $srv 'python3 /home/qianj/tools/check_cpu_mem.py'done $ cat check_cpu_mem.pyimport socketimport psutilnameinfo = socket.gethostname()cpuinfo = psutil.cpu_percent(interval=1)meminfo = psutil.virtual_memory().percentprint(&quot;{} ==&gt; CPU使用率：{} 内存使用率：{}&quot;.format(nameinfo,cpuinfo,meminfo)) 课程中心Qianj.51CTO","link":"/2023/12/29/%E6%A3%80%E6%9F%A5%E7%B3%BB%E7%BB%9FCPU-MEM%E5%88%A9%E7%94%A8%E7%8E%87/"}],"tags":[{"name":"eda","slug":"eda","link":"/tags/eda/"},{"name":"readme","slug":"readme","link":"/tags/readme/"},{"name":"ic&#x2F;eda","slug":"ic-eda","link":"/tags/ic-eda/"},{"name":"python","slug":"python","link":"/tags/python/"},{"name":"linux","slug":"linux","link":"/tags/linux/"}],"categories":[{"name":"README","slug":"README","link":"/categories/README/"},{"name":"work","slug":"work","link":"/categories/work/"},{"name":"qianj-work","slug":"qianj-work","link":"/categories/qianj-work/"},{"name":"qianj-up","slug":"qianj-up","link":"/categories/qianj-up/"}],"pages":[]}